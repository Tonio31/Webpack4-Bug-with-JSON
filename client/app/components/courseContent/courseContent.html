<form novalidate name="topLevelForm" class="course-content content-body">
  <div class="row course-content-blocks">
    <div class="small-12 medium-10 xlarge-8 small-centered columns">
      <!-- Beginning of main content in the page -->

      <h4 ng-bind-html="$ctrl.content.breadcrumbs | unsafe | uppercase"></h4>
      <h1>{{$ctrl.content.name}}</h1>

      <div ng-repeat="block in $ctrl.content.blocks track by block.id">
        <div class="block" ng-switch="block.element">

          <div ng-switch-when="container">
            <composed block="block"
                      is-top-level-form-submitted="topLevelForm.$submitted"
                      is-step-completed="$ctrl.isStepCompleted"
                      navigation="$ctrl.navigation"
                      update-parent="$ctrl.updateInputFields(programDataCode, courseContentValue)">
            </composed>
          </div>

          <div ng-switch-default>
            <block-manager block="block"
                           is-top-level-form-submitted="topLevelForm.$submitted"
                           is-step-completed="$ctrl.isStepCompleted"
                           navigation="$ctrl.navigation"
                           update-parent="$ctrl.updateInputFields(block.program_data_code, parentValue)">
            </block-manager>
          </div>

        </div> <!-- END .block -->
      </div> <!-- END ng-repeat -->
      <!-- END of main content in the page -->

    </div> <!-- END .small-12 medium-10 xlarge-8 small-centered columns -->
  </div> <!-- END .row -->
  <div>
    <div ng-show="$ctrl.savingStepSpinner.show" class="row saving-step-spinner">
      <div class="small-12 medium-10 xlarge-8 columns small-centered">
        <spinner name="$ctrl.savingStepSpinner.name"
                 show="false"
                 display-logo="false"
                 display-message="true">
        </spinner>
      </div>
    </div>
    <div ng-show="$ctrl.banner.text" class="banner y-center-parent" ng-class="$ctrl.banner.class">
      <div class="row y-center-child">
        <div class="small-12 medium-10 xlarge-8 columns small-centered">

          <div class="row collapse y-center-parent banner-content">
            <div class="small-10 columns left">
              <div ng-bind-html="$ctrl.banner.text | unsafe" class="left"></div>
            </div>
            <div class="small-2 columns y-center-child">
              <span class="fontello-icon right" ng-class="$ctrl.banner.icon"></span>
            </div>
          </div> <!-- END .banner-content -->

        </div> <!-- END .small-12 medium-10 xlarge-8 columns small-centered -->
      </div> <!-- END .row -->
    </div> <!-- END .banner -->
    <div class="navigation y-center-parent">
      <div class="row y-center-child">
        <div class="small-12 medium-10 xlarge-8 columns small-centered">
          <button ng-show="$ctrl.displayPreviousButton"
                  id="prevStepButton"
                  class="secondary radius left"
                  type="button"
                  ng-click="$ctrl.previousStep()">
            &lt; {{ 'PREVIOUS' | translate }}
          </button>
          <button id="nextStepButton"
                  ng-show="$ctrl.displayNextButton"
                  ng-disabled="$ctrl.savingStepSpinner.show"
                  ng-class="$ctrl.nextStepButton.class"
                  class="radius right"
                  type="submit"
                  ng-click="$ctrl.nextStep(topLevelForm)">
            {{$ctrl.nextStepButton.label}}
          </button>
        </div>
      </div>
    </div> <!-- END .navigation -->
  </div>

</form> <!-- END .course-content -->
