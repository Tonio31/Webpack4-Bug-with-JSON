
<form novalidate name="topLevelForm" class="course-content">
  <div class="sticky-bottom-container">
    <div class="sticky-bottom-main">

          <div class="row">
            <div class="small-12 medium-10 xlarge-8 small-centered columns">

              <!-- Beginning of main content in the page -->
              <h4 ng-bind-html="$ctrl.content.breadcrumbs | unsafe | uppercase"></h4>
              <h1>{{$ctrl.content.name}}</h1>

                <div ng-repeat="block in $ctrl.content.blocks track by block.id">
                  <div class="block" ng-switch="block.element">

                    <div ng-switch-when="video">
                      <video-module data="block.data"></video-module>
                    </div>

                    <div ng-switch-when="module_overview">
                      <module-overview block="block"></module-overview>
                    </div>

                    <div ng-switch-when="checkbox">
                      <checkbox on-update="$ctrl.updateInputFields(block.program_data_code, value)" is-top-level-form-submitted="topLevelForm.$submitted" block="block"></checkbox>
                    </div>

                    <div ng-switch-when="radiobox">
                      <radio-list on-update="$ctrl.updateInputFields(block.program_data_code, value)" is-top-level-form-submitted="topLevelForm.$submitted" block="block"></radio-list>
                    </div>

                    <div ng-switch-when="html">
                      <div ng-bind-html="block.data.value | unsafe"></div>
                    </div>

                    <div ng-switch-when="textarea">
                      <pl-text-area on-update="$ctrl.updateInputFields(block.program_data_code, value)"
                                    is-top-level-form-submitted="topLevelForm.$submitted"
                                    block="block">
                      </pl-text-area>
                    </div>

                    <div ng-switch-when="textbox">
                      <text-box on-update="$ctrl.updateInputFields(block.program_data_code, value)"
                                is-top-level-form-submitted="topLevelForm.$submitted"
                                block="block">
                      </text-box>
                    </div>

                    <div ng-switch-when="icon_text">
                      <icon-text data="block.data"></icon-text>
                    </div>

                    <div ng-switch-when="bar_chart">
                      <bar-chart block="block"></bar-chart>
                    </div>

                    <div ng-switch-default>
                      <h1>This is a new block (block id={{block.id}})</h1>
                      <h3>Type: {{block.type}}</h3>
                      <h3>Element: {{block.element}}</h3>
                    </div>

                  </div> <!-- END .block -->
                </div> <!-- END ng-repeat -->
            </div> <!-- END .small-12 medium-10 xlarge-8 small-centered columns -->
            <!-- END of main content in the page -->

          </div> <!-- END .row -->
        </div> <!-- END .sticky-bottom-main -->

        <div ng-show="$ctrl.congratsBannerText || $ctrl.errorBannerText" class="banner y-center-parent" ng-class="{'banner-congrats':$ctrl.congratsBannerText,'banner-error':$ctrl.errorBannerText}">
          <div class="row y-center-child">
            <div class="small-12 medium-10 xlarge-8 columns small-centered">

              <div class="row collapse y-center-parent banner-content">
                <div class="small-11 columns left">
                  <div ng-if="$ctrl.congratsBannerText" ng-bind-html="$ctrl.congratsBannerText | unsafe" class="left"></div>
                  <div ng-if="$ctrl.errorBannerText" ng-bind-html="$ctrl.errorBannerText | unsafe" class="left"></div>
                </div>
                <div class="small-1 columns y-center-child">
                  <span class="fontello-icon icon-pl-tick right" ng-if="$ctrl.congratsBannerText"></span>
                  <span class="fontello-icon icon-pl-exclamation right" ng-if="$ctrl.errorBannerText"></span>
                </div>
              </div> <!-- END .banner-content -->

            </div> <!-- END .small-12 medium-10 xlarge-8 columns small-centered -->
          </div> <!-- END .row -->
        </div> <!-- END .banner -->

    <div class="navigation y-center-parent">
      <div class="row y-center-child">
        <div class="small-12 medium-8 columns small-centered">
          <button ng-show="$ctrl.displayPreviousButton" class="secondary radius left" type="button" ng-click="$ctrl.previousStep()">&lt; {{ 'PREVIOUS' | translate }}</button>
          <button class="success radius right" type="submit" ng-click="$ctrl.nextStep(topLevelForm)">{{$ctrl.nextStepButtonLabel}}</button>
        </div>
      </div>
    </div> <!-- END .navigation -->

  </div> <!-- END .sticky-bottom-container -->

</form> <!-- END .course-content -->
