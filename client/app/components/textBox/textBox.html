<div class="textBox">
  <ng-form id="{{$ctrl.block.data.name}}" name="{{$ctrl.formName}}">
    <h3>{{ $ctrl.block.data.label }}</h3>
    <div class="flex-container">
      <div class="flex-expand-left">

        <input type="text"
               name="{{$ctrl.block.data.name}}"
               ng-model="$ctrl.text"
               ng-class="{ 'parent-submitted': $ctrl.isTopLevelFormSubmitted }"
               ng-model-options="$ctrl.modelOptions"
               ng-required="{{$ctrl.block.required}}"
               ng-attr-placeholder="{{$ctrl.block.data.placeholder}}"
               ng-change="$ctrl.actionOnUserInput(this[$ctrl.formName].$valid)">
        </input>
      </div>

      <div class="validation-icon-right" ng-class="{ 'visibilityHidden': !this[$ctrl.formName][$ctrl.block.data.name].$dirty && !$ctrl.isTopLevelFormSubmitted}">
        <span ng-class="{ 'invalid': this[$ctrl.formName][$ctrl.block.data.name].$invalid }" class="right fontello-icon">{{$ctrl.iconText}}</span>
      </div>

    </div>
  </ng-form>
</div>
